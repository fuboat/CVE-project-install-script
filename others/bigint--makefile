FLAGS = -lm -O3 -Wall -Wextra -Wpedantic

all: tests c_examples cpp_examples bigint.o
	rm bigint.o

bigint.o:
	$(CC) -c bigint.c -o bigint.o $(FLAGS) $(CFLAGS) $(CPPFLAGS)

tests: bigint.o
	$(CC) tests.c bigint.o -o tests $(FLAGS) $(CPPFLAGS) $(CFLAGS) $(LDFLAGS)

c_examples: bigint.o
	$(CC) c_examples.c bigint.o -o c_examples $(FLAGS) $(CPPFLAGS) $(CFLAGS) $(LDFLAGS)

cpp_examples: bigint.o
	$(CXX) cpp_examples.cpp bigint.o -o cpp_examples $(FLAGS) $(CPPFLAGS) $(CXXFLAGS) $(LDFLAGS)