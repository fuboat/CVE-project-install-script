# CVE-project-install-script
## 服务器部署情况
需要添加target的 fuzz_engine:  afl, angora, mopt, vuzzer, tortoisefuzz, aflplusplus-redqueen

需要进行fuzz的项目：genann, jpeg_encoder, ffjpeg, bitmap, pdfalto, jpeg-compressor, pngwriter, pnm2png

注：json++ 那个项目直接运行就会挂，暂跳过，不过把那个bug修掉后应该是能fuzz的

|                 | afl        | mopt | angora                 | vuzzer | tortoisefuzz | aflplusplus-redqueen |
| --------------- | ---------- | ---- | ---------------------- | ------ | ------------ | -------------------- |
| genann          | DONE       | DONE | 速度慢                 |  DONE      |  DONE            |  DONE               |
| jpeg_encoder    | 种子不太好 | DONE |  DONE                  |       DONE |   DONE           |  DONE                |
| ffjpeg          | DONE       | DONE | DONE                   |      DONE  |   DONE           |  DONE         |
| bitmap          | DONE       | DONE | DONE                   |      DONE  |   DONE           |    DONE         |
| pdfalto         | 速度慢     | 速度慢  | DONE                   |     DONE   |   DONE           |  未启用 ASAN；使用 afl-clang-lto 编译                    |
| jpeg-compressor | DONE       | DONE | DONE                   |      DONE  |    DONE          |  DONE            |
| pngwriter       | 速度慢     | 速度慢 | DONE                   |      DONE  |    DONE          |  未启用 ASAN                    |
| pnm2png         | DONE       | DONE | track模式无法复现crash |       DONE |    DONE          |  DONE               |
| json                |   DONE          |      |                    |             |                  |                      |
| codedoc                |    DONE         |      |                    |             |                  |                      |
| libucl                |   DONE    |      |                    |             |                  |                      |
| lightmatrix                |  DONE       |      |                    |             |                  |                      |
| xml2json                |   DONE          |      |                    |             |                  |                      |
| smallerC                |   DONE       |      |                    |             |                  |                      |
| cyclonedds                |   DONE          |      |                    |             |                  |                      |

 - angora fuzz 需要往 abilist.txt 中添加 LLVMFuzzerTestOneInput 的 uninstrumented 和 discard
 - angora fuzz USE_TRACK=1 时不要直接使用 -fsanitize=address
 - aflplusplus 生成 cmplog 时不要使用 AFL_USE_ASAN 和 -fsanitize=address
 - vuzzer 不使用 ASAN

```sh
CC=afl-clang CXX=afl-clang++ AFL_USE_ASAN=1 all.sh
CC=mopt/afl-clang CXX=afl-clang++ AFL_USE_ASAN=1 all.sh
CC=angora-clang CXX=angora-clang++ USE_FAST=1 ANGORA_USE_ASAN=1 all.sh
CC=angora-clang CXX=angora-clang++ USE_TRACK=1 all.sh
CC=tortoisefuzz/afl-clang CXX=tortoisefuzz/afl-clang++ AFL_USE_ASAN=1 all.sh
CC=afl-clang-fast CXX=afl-clang-fast++ AFL_USE_ASAN=1 all.sh
CC=afl-clang-fast CXX=afl-clang-fast++ AFL_LLVM_CMPLOG=1 all.sh
```
